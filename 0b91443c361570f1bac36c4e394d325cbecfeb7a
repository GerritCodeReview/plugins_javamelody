{
  "comments": [
    {
      "key": {
        "uuid": "05a0396c_c505b49a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 16,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "Well, currently the sites can already define System property javamelody.storage_directory and change the default.",
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf872104_a861fc56",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "I\u0027m not sure we need this. If site admins decide to use javamelody default, they wouldn\u0027t change anything and still will use whatever the current javamelody version is using under /tmp directory.",
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b4c1b824_71a0c433",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 24,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "Usually the data path for plugins is: \u003csite_path\u003e/data/\u003cplugin-name\u003e. I think, I would prefer to use this one.",
      "range": {
        "startLine": 24,
        "startChar": 0,
        "endLine": 24,
        "endChar": 26
      },
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "88419647_d6490af5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "How about to use the same absolute/relative path logic like javamelody itself using to determine the actual directory for its data? If the configured property plugins.javamelody.storage_directory starts with \"/\" take this path, otherwise, use the \u003csite_path\u003e/data/\u003cplugins.javamelody.storage_directory value\u003e directory?\n\nAnother good question is, what should be used as the default, if neither system property, no plugins.javamelody.storage_directory was set? Javamelody default or \u003csite_path\u003e/data/\u003cplugin-name\u003e?",
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5781b5b0_683b65c7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/javamelody/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "Not needed?",
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6f96b9fe_0fd928c7",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/javamelody/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "private static final. Also not sure if we actually need it. See my other comments.",
      "range": {
        "startLine": 36,
        "startChar": 2,
        "endLine": 36,
        "endChar": 15
      },
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "65439f24_e8a09a13",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/javamelody/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "data_dir?",
      "range": {
        "startLine": 43,
        "startChar": 23,
        "endLine": 43,
        "endChar": 30
      },
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6652a023_cbcb57ed",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/javamelody/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 57,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "How it\u0027s default javamelody storage-directory? You mentioned in the commit message javamelody defaults to /tmp/javamelody/\u003capp\u003e_\u003chostname\u003e, what you are here not doing. I think it\u0027s not needed to intercept javamelody behavior. We read the plugin config value and set it or not.",
      "range": {
        "startLine": 56,
        "startChar": 5,
        "endLine": 57,
        "endChar": 73
      },
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "812469eb_98d04a28",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/javamelody/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "Nit: we don\u0027t use final in new code for local variables.",
      "range": {
        "startLine": 58,
        "startChar": 4,
        "endLine": 58,
        "endChar": 9
      },
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4a37e7e3_baf70433",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/javamelody/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 59,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "Always use camelCaseVarNames and not_underscore_var_names.",
      "range": {
        "startLine": 59,
        "startChar": 15,
        "endLine": 59,
        "endChar": 32
      },
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f8861bb_5a39c860",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/javamelody/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "All the code above, related to overriding of \"javamelody.storage-directory\" should be guarded by this if, so that we don\u0027t unnecessary spend any time during plugin load, if we already know, that we are not going to use it, because system wide this property was already assigned.",
      "range": {
        "startLine": 66,
        "startChar": 4,
        "endLine": 66,
        "endChar": 71
      },
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e8db7c5_9554b4e6",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/javamelody/Module.java",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2017-06-13T06:05:36Z",
      "side": 1,
      "message": "Conceptually the plugin name can be changed to anything else, but unless i misread Javamelody code, it is always using javamelody.storage-directory, right? In which case, we should stick to hard coded string.",
      "range": {
        "startLine": 67,
        "startChar": 27,
        "endLine": 67,
        "endChar": 37
      },
      "revId": "0b91443c361570f1bac36c4e394d325cbecfeb7a",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}